<form *ngIf="employee && myForm" [formGroup]="myForm" class="m-3" (submit)="onSubmit()">
    <h2 class="my-3">{{ title }}</h2>
    <div class="mb-3">
        <label form="name">Name</label>
        <input type="text" class="form-control" id="name" name="name" formControlName="name">
        <div *ngIf="isValidField('name')" class="form-text text-danger">
            <p *ngIf="myForm && myForm.controls['name'].getError('required')">The name is required</p>
            <p *ngIf="myForm && myForm.controls['name'].getError('minlength')">The name must be more than 3 characters</p>
            <p *ngIf="myForm && myForm.controls['name'].getError('maxlength')">The name must be less than 25 characters</p>
        </div>
    </div>
    <div class="mb-3">
        <label form="name">Lastname</label>
        <input type="text" class="form-control" id="lastname" name="lastname" formControlName="lastname">
        <div *ngIf="isValidField('lastname')" class="form-text text-danger">
            <p *ngIf="myForm && myForm.controls['lastname'].getError('required')">The lastname is required</p>
            <p *ngIf="myForm && myForm.controls['lastname'].getError('minlength')">The lastname must be more than 3 characters</p>
            <p *ngIf="myForm && myForm.controls['lastname'].getError('maxlength')">The lastname must be less than 25 characters</p>
        </div>
    </div>
    <div class="mb-3">
        <label form="name">Email</label>
        <input type="email" class="form-control" id="email" name="email" formControlName="email">
        <div *ngIf="isValidField('email')" class="form-text text-danger">
            <p *ngIf="myForm && myForm.controls['email'].getError('required')">The email is required</p>
            <p *ngIf="myForm && myForm.controls['email'].getError('email')">The email must be in a correct format</p>
        </div>
    </div>
    <div class="mb-3">
        <label form="name">Phone</label>
        <input type="number" class="form-control" id="phone" name="phone" formControlName="phone">
        <div *ngIf="isValidField('phone')" class="form-text text-danger">
            <p *ngIf="myForm && myForm.controls['phone'].getError('required')">The phone is required</p>
        </div>
    </div>
    <button type="submit" class="btn btn-primary my-3">{{ title }}</button>
</form>

@if(errors.length > 0) {
    <div class="alert alert-danger">
        @for(error of errors; track error) {
            <p class="my-2">{{ error }}</p>
        }
    </div>
}
